<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>摄研小组情景剧剧本展示网站</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- 配置 Tailwind CSS -->
    <script>
        // Tailwind 配置
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',    // 主色调：蓝色（环保主题）
                        secondary: '#f59e0b',  // 辅助色：橙色（突出动作）
                        dark: '#1e293b',       // 深色模式背景
                        light: '#f8fafc',      // 浅色模式背景
                        clip: '#0f172a'        // 剪辑要求背景色
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-10px)', opacity: 0 },
                            '100%': { transform: 'translateX(0)', opacity: 1 },
                        }
                    }
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .transition-custom {
                transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
                transform: translateZ(0); /* 启用硬件加速 */
            }
            .card-hover {
                @apply hover:shadow-lg hover:-translate-y-1 transition-custom;
                transform: translateZ(0); /* 启用硬件加速 */
            }
            .theme-toggle-btn {
                @apply relative w-10 h-5 rounded-full transition-colors duration-500 ease-in-out cursor-pointer overflow-hidden;
            }
            .theme-toggle-dot {
                @apply absolute left-0.5 top-0.5 bg-white w-4 h-4 rounded-full transition-transform duration-500 ease-out;
            }
            .theme-toggle-btn::before {
                content: '';
                @apply absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-600 opacity-0 dark:opacity-100 transition-opacity duration-300;
            }
            .sun-icon {
                @apply absolute left-1 top-1 text-yellow-500 dark:opacity-0 transition-all duration-300 ease-in-out transform origin-center;
            }
            .moon-icon {
                @apply absolute right-1 top-1 text-blue-300 opacity-0 dark:opacity-100 transition-all duration-300 ease-in-out transform origin-center;
            }
            .dark .sun-icon {
                transform: rotate(-90deg);
            }
            .dark .moon-icon {
                transform: rotate(90deg);
            }
            .theme-toggle-btn:active .theme-toggle-dot {
                @apply scale-110;
            }
            .theme-toggle-dot::after {
                content: '';
                @apply absolute inset-0 bg-white/20 rounded-full animate-ping opacity-30;
            }
            .region-btn {
                @apply w-full py-3 px-4 rounded-lg font-medium text-left card-hover flex items-center transition-custom;
            }
            .region-btn.active {
                @apply bg-primary text-white;
            }
        }
    </style>
</head>
<body class="bg-light dark:bg-dark text-gray-800 dark:text-gray-200 min-h-screen flex flex-col transition-custom">
    <!-- 顶部导航栏 -->
    <header class="sticky top-0 z-50 bg-white/90 dark:bg-dark/90 backdrop-blur-sm shadow-sm transition-custom">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-[clamp(1.2rem,3vw,1.8rem)] font-bold text-primary dark:text-primary flex items-center">
                <i class="fa fa-heart mr-2 animate-pulse"></i>
                心理情景剧剧本库
            </h1>
            <div class="flex items-center gap-4">
                <!-- 日夜模式切换按钮 -->
                <div id="theme-toggle" class="theme-toggle-btn bg-gray-300 dark:bg-primary group cursor-pointer">
                    <div class="theme-toggle-dot transform dark:translate-x-5 transition-transform duration-500 ease-out"></div>
                    <i class="fa fa-sun-o sun-icon"></i>
                    <i class="fa fa-moon-o moon-icon"></i>
                    <!-- 光晕效果 -->
                    <div class="absolute -inset-2 bg-yellow-400 rounded-full blur opacity-0 dark:opacity-20 transition-opacity duration-300 ease-in-out"></div>
                </div>
                <span class="hidden md:inline-block text-sm text-gray-500 dark:text-gray-400">
                    日/夜间模式切换
                </span>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 flex flex-col md:flex-row gap-6 flex-grow">
        <!-- 左侧区域切换导航（固定） -->
        <div class="md:w-56 lg:w-64 flex-shrink-0">
            <div class="sticky top-24 space-y-2 animate-slide-in">
                <button id="script-btn" class="region-btn active w-full py-3 px-4 rounded-lg bg-primary text-white font-medium text-left card-hover flex items-center">
                    <i class="fa fa-file-text-o mr-2 w-5 text-center"></i> 剧本内容
                </button>
                <button id="cast-btn" class="region-btn w-full py-3 px-4 rounded-lg bg-gray-200 dark:bg-gray-700 font-medium text-left card-hover flex items-center">
                    <i class="fa fa-users mr-2 w-5 text-center"></i> 演职人员
                </button>
                <button id="log-btn" class="region-btn w-full py-3 px-4 rounded-lg bg-gray-200 dark:bg-gray-700 font-medium text-left card-hover flex items-center">
                    <i class="fa fa-history mr-2 w-5 text-center"></i> 调整日志
                </button>
                <button id="update-log-btn" class="region-btn w-full py-3 px-4 rounded-lg bg-gray-200 dark:bg-gray-700 font-medium text-left card-hover flex items-center">
                    <i class="fa fa-refresh mr-2 w-5 text-center"></i> 站更日志
                </button>
                <p class="text-gray-400 dark:text-gray-500 text-sm">网站制作者：王浩平</p>
                <p class="text-gray-400 dark:text-gray-500 text-sm">当前网站版本：1.2</p>
            </div>
        </div>

        <!-- 主内容区域 -->
        <div class="flex-1">
            <!-- 剧本内容区域（默认显示） -->
            <section id="script-region" class="region-content animate-fade-in">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 mb-8 transform transition-custom hover:shadow-lg" style="transform: translateZ(0);">
                    <div class="min-h-[50vh] flex items-center justify-center">
                        <div class="text-center bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg p-8 md:p-10 max-w-md mx-auto animate-slide-up">
                            <div class="flex justify-center mb-3">
                                <i class="fa fa-exclamation-circle text-primary text-2xl animate-pulse-slow"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">待剧本调整与更换</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-300">当前剧本内容已清空，后续将根据最新安排进行更新与替换。</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 演职人员区域（默认隐藏） -->
            <section id="cast-region" class="region-content hidden animate-fade-in">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 mb-8 transform transition-custom hover:shadow-lg" style="transform: translateZ(0);">
                    <h2 class="text-2xl font-bold mb-6 text-primary dark:text-primary border-b border-gray-200 dark:border-gray-700 pb-3">
                        演职人员表
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- 核心创作人员 -->
                        <div class="cast-card bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-primary/20 dark:bg-primary/30 flex items-center justify-center text-primary mr-4">
                                    <i class="fa fa-user-circle-o text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">王浩平</h3>
                                    <p class="text-gray-500 dark:text-gray-400 text-sm">核心创作人</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                                <li class="flex items-start">
                                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                                    <span>导演/剪辑/旁白/字幕/音频搭配</span>
                                </li>
                            </ul>
                        </div>

                        <div class="cast-card bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-primary/20 dark:bg-primary/30 flex items-center justify-center text-primary mr-4">
                                    <i class="fa fa-user-circle-o text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">董正耀</h3>
                                    <p class="text-gray-500 dark:text-gray-400 text-sm">拍摄剪辑组</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                                <li class="flex items-start">
                                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                                    <span>剪辑/拍摄/参与拍摄</span>
                                </li>
                            </ul>
                        </div>

                        <div class="cast-card bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-primary/20 dark:bg-primary/30 flex items-center justify-center text-primary mr-4">
                                    <i class="fa fa-user-circle-o text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">张雨霆</h3>
                                    <p class="text-gray-500 dark:text-gray-400 text-sm">拍摄演员组</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                                <li class="flex items-start">
                                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                                    <span>其余拍摄/参与拍摄人员</span>
                                </li>
                            </ul>
                        </div>

                        <div class="cast-card bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-primary/20 dark:bg-primary/30 flex items-center justify-center text-primary mr-4">
                                    <i class="fa fa-user-circle-o text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">张珈宁</h3>
                                    <p class="text-gray-500 dark:text-gray-400 text-sm">拍摄演员组</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                                <li class="flex items-start">
                                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                                    <span>其余拍摄/参与拍摄人员</span>
                                </li>
                            </ul>
                        </div>

                        <div class="cast-card bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-primary/20 dark:bg-primary/30 flex items-center justify-center text-primary mr-4">
                                    <i class="fa fa-user-circle-o text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">李奕辰</h3>
                                    <p class="text-gray-500 dark:text-gray-400 text-sm">拍摄演员组</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                                <li class="flex items-start">
                                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                                    <span>其余拍摄/参与拍摄人员</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 调整日志区域（默认隐藏） -->
            <section id="log-region" class="region-content hidden animate-fade-in">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 mb-8 transform transition-custom hover:shadow-lg" style="transform: translateZ(0);">
                    <h2 class="text-2xl font-bold mb-6 text-primary dark:text-primary border-b border-gray-200 dark:border-gray-700 pb-3">
                        剧本调整日志
                    </h2>
                    
                    <div class="space-y-8">
                        <!-- 日志条目（最新） -->
                        <div class="log-entry relative pl-8 animate-slide-up" style="animation-fill-mode: both; animation-timing-function: ease-out;">
                            <!-- 时间轴点 -->
                            <div class="absolute left-0 top-0 w-4 h-4 rounded-full bg-primary border-4 border-primary/20"></div>
                            <!-- 时间轴线 -->
                            <div class="absolute left-2 top-4 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"></div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <h3 class="font-bold text-lg">剧本情景所需物调整</h3>
                                    <span class="text-gray-500 dark:text-gray-400 text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full mt-2 md:mt-0">
                                        <i class="fa fa-calendar-o mr-1"></i> 2025年10月5日
                                    </span>
                                </div>
                                <div class="space-y-3 text-gray-700 dark:text-gray-300">
                                    <p>调整了剧本所需物（奕辰部分），调整难以剪的易拉罐为塑料瓶。</p>
                                </div>
                            </div>
                        </div>

                        <div class="log-entry relative pl-8 animate-slide-up" style="animation-delay: 0.1s; animation-fill-mode: both; animation-timing-function: ease-out;">
                            <!-- 时间轴点 -->
                            <div class="absolute left-0 top-0 w-4 h-4 rounded-full bg-primary border-4 border-primary/20"></div>
                            <!-- 时间轴线 -->
                            <div class="absolute left-2 top-4 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"></div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <h3 class="font-bold text-lg">心理情景剧剧本定稿</h3>
                                    <span class="text-gray-500 dark:text-gray-400 text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full mt-2 md:mt-0">
                                        <i class="fa fa-calendar-o mr-1"></i> 2025年9月30日
                                    </span>
                                </div>
                                <div class="space-y-3 text-gray-700 dark:text-gray-300">
                                    <p>经一致意见，确定初版剧本为最终版剧本，进一步对剧本进行了语句优化。</p>
                                </div>
                            </div>
                        </div>

                        <div class="log-entry relative pl-8 animate-slide-up" style="animation-delay: 0.2s; animation-fill-mode: both; animation-timing-function: ease-out;">
                            <!-- 时间轴点 -->
                            <div class="absolute left-0 top-0 w-4 h-4 rounded-full bg-primary border-4 border-primary/20"></div>
                            <!-- 不需要时间轴线，因为是最后一个条目 -->
                            
                            <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <h3 class="font-bold text-lg">剧本初步撰写完成</h3>
                                    <span class="text-gray-500 dark:text-gray-400 text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full mt-2 md:mt-0">
                                        <i class="fa fa-calendar-o mr-1"></i> 2025年9月27日
                                    </span>
                                </div>
                                <div class="space-y-3 text-gray-700 dark:text-gray-300">
                                    <p>完成剧本核心内容创作，包括序言、正剧各场景对白及动作指导</p>
                                    <ul class="list-disc pl-6 space-y-2">
                                        <li>确定演职人员分工及拍摄职责</li>
                                        <li>制定剪辑要求及画面呈现标准</li>
                                        <li>补充中英双语字幕文案</li>
                                        <li>新增生态环境部走访场景内容</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 站更日志区域（默认隐藏） -->
            <section id="update-log-region" class="region-content hidden animate-fade-in">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 mb-8 transform transition-custom hover:shadow-lg" style="transform: translateZ(0);">
                    <h2 class="text-2xl font-bold mb-6 text-primary dark:text-primary border-b border-gray-200 dark:border-gray-700 pb-3">
                        网站版本更新日志
                    </h2>
                    
                    <div class="space-y-8">
                        <!-- 版本1.2 -->
                        <div class="update-timeline relative pl-8 pb-8 animate-slide-up">
                            <!-- 时间轴点 -->
                            <div class="absolute left-0 top-0 w-4 h-4 rounded-full bg-primary border-4 border-primary/20"></div>
                            <!-- 时间轴线 -->
                            <div class="absolute left-2 top-4 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"></div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <h3 class="font-bold text-lg text-primary">版本 1.2</h3>
                                    <span class="text-gray-500 dark:text-gray-400 text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full mt-2 md:mt-0">
                                        <i class="fa fa-calendar-o mr-1"></i> 2025年11月7日
                                    </span>
                                </div>
                                
                                <div class="space-y-3 text-gray-700 dark:text-gray-300">
                                    <h4 class="font-semibold">主要更新内容：</h4>
                                    <ul class="list-disc pl-6 space-y-2">
                                        <li>优化页切换动画效果</li>
                                        <li>调整网站版本更新日志的块长宽比，使其与剧本调整日志保持一致</li>
                                        <li>调整日志更新显示顺序与站更日志更新显示顺序一致，以最新调整与更新为置顶显示</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 版本1.1 -->
                        <div class="update-timeline relative pl-8 pb-8 animate-slide-up">
                            <!-- 时间轴点 -->
                            <div class="absolute left-0 top-0 w-4 h-4 rounded-full bg-primary border-4 border-primary/20"></div>
                            <!-- 时间轴线 -->
                            <div class="absolute left-2 top-4 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700"></div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <h3 class="font-bold text-lg text-primary">版本 1.1</h3>
                                    <span class="text-gray-500 dark:text-gray-400 text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full mt-2 md:mt-0">
                                        <i class="fa fa-calendar-o mr-1"></i> 2025年10月5日
                                    </span>
                                </div>
                                
                                <div class="space-y-3 text-gray-700 dark:text-gray-300">
                                    <h4 class="font-semibold">主要更新内容：</h4>
                                    <ul class="list-disc pl-6 space-y-2">
                                        <li>新增站更日志功能，支持时间轴形式展示版本更新历史</li>
                                        <li>加入剧本试读音乐，分中英版本</li>
                                        <li>对夜间模式按钮样式进行了小调整</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 版本1.0 -->
                        <div class="update-timeline relative pl-8 animate-slide-up" style="animation-delay: 0.1s;">
                            <!-- 时间轴点 -->
                            <div class="absolute left-0 top-0 w-4 h-4 rounded-full bg-primary border-4 border-primary/20"></div>
                            
                            <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 card-hover">
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <h3 class="font-bold text-lg text-primary">版本 1.0</h3>
                                    <span class="text-gray-500 dark:text-gray-400 text-sm bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full mt-2 md:mt-0">
                                        <i class="fa fa-calendar-o mr-1"></i> 2025年9月27日
                                    </span>
                                </div>
                                
                                <div class="space-y-3 text-gray-700 dark:text-gray-300">
                                    <h4 class="font-semibold">主要更新内容：</h4>
                                    <ul class="list-disc pl-6 space-y-2">
                                        <li>网站正式上线，包含剧本内容展示功能</li>
                                        <li>实现演职人员信息展示</li>
                                        <li>添加剧本调整日志记录</li>
                                        <li>支持日夜模式切换</li>
                                        <li>响应式设计，适配不同设备屏幕</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-100 dark:bg-gray-800 py-6 transition-custom">
        <div class="container mx-auto px-4 text-center text-gray-600 dark:text-gray-400 text-sm">
            <p>© 2025 摄研小组情景剧剧本展示网站</p>
            <p class="mt-2">本网站仅用于剧本展示，所有内容版权归心理摄研小组所有</p>
        </div>
    </footer>

    <script>
        // 日夜模式切换功能
        const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;

        // 初始化主题（优先使用本地存储）
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            htmlElement.classList.add('dark');
        } else {
            htmlElement.classList.remove('dark');
        }

        // 切换主题事件监听
        themeToggle.addEventListener('click', () => {
            if (htmlElement.classList.contains('dark')) {
                htmlElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                htmlElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
        });

        // 区域切换功能
        const regionBtns = document.querySelectorAll('.region-btn');
        const regionContents = document.querySelectorAll('.region-content');

        // 添加CSS类用于动画管理
        const style = document.createElement('style');
        style.textContent = `
            .region-content {
                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
                will-change: opacity, transform;
                backface-visibility: hidden;
                transform: translateZ(0);
            }
            .region-content.hidden {
                display: none;
            }
            .region-content.fade-out {
                opacity: 0;
                transform: translateY(10px);
            }
            .region-content.fade-in {
                opacity: 1;
                transform: translateY(0);
            }
        `;
        document.head.appendChild(style);

        // 优化按钮激活状态切换
        regionBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // 优化按钮状态切换 - 先获取当前激活的按钮
                const activeBtn = document.querySelector('.region-btn.active');
                if (activeBtn && activeBtn !== btn) {
                    // 只有当点击不同的按钮时才执行切换
                    activeBtn.classList.remove('active', 'bg-primary', 'text-white');
                    activeBtn.classList.add('bg-gray-200', 'dark:bg-gray-700');
                    
                    btn.classList.add('active', 'bg-primary', 'text-white');
                    btn.classList.remove('bg-gray-200', 'dark:bg-gray-700');

                    // 获取目标区域
                    const targetRegionId = btn.id.replace('-btn', '-region');
                    const targetRegion = document.getElementById(targetRegionId);
                    const currentRegion = document.querySelector('.region-content:not(.hidden)');

                    if (currentRegion && currentRegion !== targetRegion) {
                        // 使用requestAnimationFrame确保动画在下一帧执行
                        requestAnimationFrame(() => {
                            // 淡出当前区域
                            currentRegion.classList.add('fade-out');
                            currentRegion.classList.remove('fade-in');
                            
                            // 设置一个更精确的延时，与动画时长匹配
                            setTimeout(() => {
                                // 隐藏淡出后的区域
                                currentRegion.classList.add('hidden');
                                
                                // 显示并淡入目标区域
                                requestAnimationFrame(() => {
                                    targetRegion.classList.remove('hidden');
                                    // 小延时确保元素已渲染
                                    setTimeout(() => {
                                        targetRegion.classList.add('fade-in');
                                        targetRegion.classList.remove('fade-out');
                                    }, 10);
                                });
                            }, 300); // 与transition时长匹配
                        });
                    }
                }
            });
        });
        
        // 初始化显示的区域
        const visibleRegion = document.querySelector('.region-content:not(.hidden)');
        if (visibleRegion) {
            visibleRegion.classList.add('fade-in');
        }
    </script>
</body>
</html>
